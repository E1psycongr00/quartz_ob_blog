---
tags:
  - 완성
  - OS
  - CPU
  - Process
  - Thread
aliases:
  - 하드웨어 쓰레드
  - HW Thread
title: CPU 쓰레드(Thread)
date: 2024-01-13
---
작성 날짜: 2024-01-03
작성 시간: 17:20


----
## 내용(Content)
### 정의
>[!summary] 하드웨어 프로세서
>**쓰레드 = 논리 프로세서 = CPU에서 실행되는 실행 단위(Unit of Execution)**
>OS관점에서 바라보면 가상의(Logical) 코어이기도 하다


쓰레드는 CPU 내부에서 실질적으로 업무를 수행하는 가장 작은 논리적인 단위라 할 수 있다. 동시에 동작하는 쓰레드 수는 각 CPU의 기능과 코어 수에 따라 달라진다.  일반적으로는 1 코어 = 1 쓰레드 공식이 성립한다. 코어는 핵심적인 CPU의 연산 및 제어를 수행하는데 이러한 동작이 1 쓰레드라는 것이다. 하이퍼 쓰레드가 나오기 전까지는 CPU에서 말하는 Thread = Core라 볼 수 있다.
### 멀티 쓰레드
멀티 쓰레드란 동시 처리를 위해 작업을 여러 개의 소프트웨어 스레드로 분할한다. 이러한 스레드는 시간 절약을 위해 여러 코어에서 병렬 처리한다. 

만약 하나의 코어에서 여러 소프트웨어 쓰레드를 받아 처리한다면 실제 동시에 처리하는 것은 아니기 때문에 쓰레드가 너무 많다면 병목 현상이 발생할 수 있다. 


### 싱글 쓰레드의 한계
멀티 코어가 나온 이유가 싱글 코어의 클럭 속도를 올리는데 한계가 있었기 떄문이다. (
[[CPU 코어|CPU 코어 참고]] ) 코어 역시 여러 개를 넣는데 한계가 있었다.  그래서 코어가 하나의 작업을 처리하는 것이 아닌 동시에 여러 작업을 효율적으로 처리하는 방법으로 이를 극복하려고 했고 그래서 나온 기술이 **Hyper Threading(Intel)** 방식과 **SMT(AMD)** 이다.


### 1코어 멀티 쓰레드
지금까지는 1코어에서는 하나의 쓰레드를 처리할 수 있었다. 하지만 HyperThreading 방식과 SMT 방식 덕분에 여러 쓰레드를 동시에 코어에서 처리할 수 있다.

 OS에서는 CPU 상태를 확인할 때 코어 단위가 아닌 쓰레드 단위로 확인한다.
![[Pasted image 20240103220118.png]]
위의 사진은 6개의 코어 12쓰레드를 가진 CPU의 이용률을 작업 관리자를 통해 확인하는 모습이다. 12개의 쓰레드를 이용해 거의 동시에 여러 작업을 처리할 수 있다.



>[!info]+ Hyper Threading
>하이퍼 쓰레드는 인텔이 개발한 CPU 기술로 하나의 물리적인 코어에서 동시에 두 개의 독립적인 작업을 처리할 수 있도록 한 기술이다. 
>
>![[Pasted image 20240103222033.png]]
>
>**장점**
>- 싱글 코어를 마치 듀얼 코어처럼 사용할 수 있게 해준다.
>- 동시에 여러 작업을 처리할 수 있다.
>
>**단점**
>- 싱글 코어를 듀얼 코어처럼 쓰게 한 기술이기 때문에 이를 잘 지원하지 않는 프로그램에 경우 오히려 성능이 하락 할 수 있다
>- 하나의 코어를 나눠 쓰기 때문에 큰 연산 작업에는 비효율적이다.
>

>[!info] SMT
>HyperThreading과 동일한 기술로 하나의 코어를 마치 여러 개의 코어처럼 쓰게 만드는 기술이다. AMD에서 개발한 기술이다.

>[!tip] OS 관점에서 쓰레드
>hyper threading이 적용된 경우에는 OS에서는 마치 2개의 코어처럼 인식한다. 그래서 1코어 hyper threading이면 OS는 듀얼 코어로 인식하여 동작한다.
## 질문 & 확장

(없음)

## 출처(링크)
- https://www.youtube.com/watch?v=_dhLLWJNhwY#t=355.283127
- https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%E2%9A%94%EF%B8%8F-%EC%93%B0%EB%A0%88%EB%93%9C-%EC%B0%A8%EC%9D%B4#%EC%8A%A4%EB%A0%88%EB%93%9C%EC%9D%98_%EA%B0%9C%EB%85%90
- https://change-words.tistory.com/entry/intel-CPU-Hyper-Threading
- https://www.intel.co.kr/content/www/kr/ko/gaming/resources/hyper-threading.html
## 연결 노트

